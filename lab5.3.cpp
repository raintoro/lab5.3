#include <iostream>
using namespace std;

int main()
{
    setlocale(LC_ALL, "Rus");
    int n, m;
    cout << "Введите количество строк: ";
    cin >> n;
    cout << "Введите количество столбцов: ";
    cin >> m;

    int A[100][100]; // объявляем матрицу размером 100 x 100

    // заполняем матрицу элементами, введенными с клавиатуры
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            cout << "Введите элемент A[" << i << "][" << j << "]: ";
            cin >> A[i][j];
        }
    }

    // ищем столбец с минимальным количеством чисел, заканчивающихся на 3
    int min_count = n; // начальное значение минимального количества чисел
    int min_column = -1; // начальное значение индекса столбца с минимальным количеством чисел
    for (int j = 0; j < m; j++) {
        int count = 0; // количество чисел, заканчивающихся на 3 в текущем столбце
        for (int i = 0; i < n; i++) {
            if (A[i][j] % 10 == 3) {
                count++;
            }
        }
        if (count < min_count) {
            min_count = count;
            min_column = j;
        }
    }

    // заменяем элементы матрицы, кроме элементов столбца с минимальным количеством чисел, на -17
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            if (j != min_column) {
                A[i][j] = -17;
            }
        }
    }

    // выводим матрицу на экран
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            cout << A[i][j] << " ";
        }
        cout << endl;
    }

    return 0;
}
